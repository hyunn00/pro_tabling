<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/" lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
</head>
<style>
    #logo, #__content{
        /*border: solid 1px blue;*/
        text-align: center;
        /*margin: 10% auto 0;*/
        border-radius: 0;
        border-bottom: solid #e0e0e0 1px;
    }
    * {
        /*margin: 0;*/
        /*padding: 0;*/
        text-decoration: none;
        /*min-height: auto;*/
        box-sizing: border-box;
        border-radius: 10px;
        /*-webkit-touch-callout: none;*/
        /*-webkit-user-select: none;*/
        user-select: none;
    }
    a {
        text-decoration: none;
    }
    .kobHnP {
        width: 450px;
        margin: 0 auto;
        border-radius: 10px;
        padding: 20px;
    }
    .itftUz {
         width: 70%;
         margin: 0 auto;
         display: flex;
         border: 1px solid #adb5bd;
         overflow: hidden;
     }
    .itftUz input {
        width: 100%;
        border: none;
        outline: none;
        background: inherit;
        font-size: 16px;
        padding: 5px 15px 0;
        border-radius: 0;
        color: black;
    }
    .itftUz .icon svg {
         color: rgb(255, 110, 0);
         font-size: 30px;
         margin-right: 0px;
     }.itftUz svg {
          color: rgb(255, 110, 0);
          font-size: 30px;
          margin: 10px 10px 5px 0;
      }.itftUz .icon {
           margin-left: 10px;
       }.jjlVkV {
            width: 100%;
            height: 60px;
            font-size: 25px;
        }.iBvEjI {
             border: none;
             font-size: 1rem;
             font-weight: bold;
             padding: 0.25rem 1rem;
             color: white;
             outline: none;
             cursor: pointer;
             background: rgb(255, 110, 0);
         }
    .dbUjWy {
        width: 100%;
    }
    .cTWHaB {
        margin: 15px 0 0 10px!important;
        display: flex;
        align-items: center;
        -webkit-tap-hightheme-color: rgba(0, 0, 0, 0);
    }
    .cTWHaB input[type='checkbox'] {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border: 1px solid rgb(255, 110, 0);
        border-radius: 50%;
        cursor: pointer;
        height: 25px;
        outline: 0;
        width: 25px;
    }
    .cTWHaB input[type='checkbox']:checked::after {
        display: block;
    }.cTWHaB input[type='checkbox']:checked {
         background: rgb(255, 110, 0);
         border: rgb(255, 110, 0);
     }
    .cTWHaB input[type='checkbox']::after {
         border: solid white;
         border-width: 0 3px 3px 0;
         content: '';
         display: none;
         height: 40%;
         left: 37%;
         position: relative;
         top: 22%;
         transform: rotate(45deg);
         width: 15%;
    }
    .cTWHaB label {
        display: contents;
    }
    .iYXXQl {
          /*height: 30px;*/
          font-size: 16px;
          color: red;
          margin: 35px auto 20px!important;
      }
    .fmpott {
        display: flex;
        justify-content: center;
    }
    .fmpott button {
        border : none;
        background-color: transparent;
        color: rgb(110,110,110);
    }.fmpott button a{
             color: rgb(110,110,110);

    }.fmpott button:hover {
         text-decoration: underline;
     }.fmpott button+button:before {
          padding-left: 0.8rem;
          padding-right: 0.8rem;
          content: '|';
      }
div.sns {
    text-align: center;
    margin: 82px 0;
    /*margin-bottom: 30px;*/
    /*padding-bottom: 20px;*/
    height: 68px;
}
ul.sns li {
    display: inline;
    margin-right: 10px;
}
ul.sns li img {
    border-radius: 50%;
    box-shadow: 0px 0px 10px 0px;
}
ul.sns li img:hover {
    color: -webkit-activelink;
}
#error {
    text-align: center;
    color : rgb(255, 110, 0);
}
    footer {
        display: block;
        position: relative;
        padding: 20px 50px;
        border-top: 1px solid rgba(0, 0, 0, 0.08);
        line-height: 20px;
        color: rgba(0, 0, 0, 0.38);
    }

    .footer_box {
        width: 100%;
        margin: 0 auto;
        display: grid;
    }

    .footer_box ul {
        display: block;
        list-style: none;
        padding-inline-start: 0px;
    }

    .footer_box ul li {
        float: left;
        display: inline-block;
        margin-bottom: 5px;
        line-height: normal;
    }

    .footer_box ul li a {
        text-decoration: none;
        color: rgba(0, 0, 0, 0.38);
    }

    .footer_box ul li span {
        display: inline-block;
        position: relative;
        top: 0;
        width: 24px;
        text-align: center;
    }

    .footer_box address {
        display: inline-block;
        line-height: 22px;
        font-style: italic;
        margin-top: 10px;
        position: relative;
    }
    .loginHeader {
        width : 450px;
        margin : 0 auto;
        text-align: center;
    }

    .loginTitle {
        padding: 20px 10px;
        border-radius: 0;
        border-bottom: solid #e0e0e0 1px;
    }

    div.account {
        text-align: center;
    }

</style>

<body>

<div id="logo">
<span th:replace="~{/include/logo::logoContent(30, 'login')}"></span>

</div>

<div class="loginHeader">
    <h3 class="loginTitle">로그인 및 회원가입</h3>
    <p class="loginDesc">
        로그인을 통해 예맛의 다양한 혜택을 누리세요.
    </p>
</div>
<div class="sc-iAfmwU kobHnP">
    <form method="post" action="/login-process" onsubmit="handleSubmit()">
    <div class="sc-gXCJSa sc-iUeHef itftUz dbUjWy">
        <div class="icon"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24"
                               height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
            <path fill="none" d="M0 0h24v24H0z"></path>
            <path
                    d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z">
            </path>
        </svg></div><input autocomplete="username" name="userId" placeholder="아이디" >
    </div>
    <div class="sc-gXCJSa sc-iUeHef itftUz dbUjWy">
        <div class="icon"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24"
                               height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
            <path fill="none" d="M0 0h24v24H0z"></path>
            <path
                    d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z">
            </path>
        </svg></div><input autocomplete="new-password" name="userPassword" type="password" placeholder="비밀번호" value="222" >
        <div class="sc-cCIIiH hhCNoW" onclick="onPasswordClick(this)"><svg stroke="currentColor" fill="currentColor" stroke-width="0"
                                           viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
            <path style="display: none;" d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path>
            <path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 001 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path>
        </svg></div>
    </div>
    <th:block th:if="${error != null}">
        <p id="error">[[${exception}]]</p>
    </th:block>
    <div class="sc-bZCZoC cTWHaB">
        <label><input type="checkbox">아이디 저장</label><div></div>
    </div>
    <div class="sc-eflkNB iYXXQl"></div><button class="sc-dkjKgF iBvEjI sc-jdkVqZ jjlVkV">로그인</button>
</form>
</div>
<div class="sc-jIJgYh fmpott">
    <button onclick="openPopup('/findId')" >아이디찾기</button>
    <button onclick="openPopup('/findPw')">비밀번호 찾기</button>
    <button><a href="/signUp">회원가입</a></button>
</div>
<div class="sns">
사용하시는 SNS계정으로 서비스를 이용하실 수 있습니다.
    <ul class="sns">
        <li><a href="/oauth2/authorization/kakao"><img src="/img/icon-kakao-logo-32.png"></a></li>
        <li><a href="/oauth2/authorization/google"><img src="/img/icon-google-logo-32.png"></a></li>
        <li><a href="/oauth2/authorization/naver"><img src="/img/icon-naver-logo-32.png"></a></li>
<!--        <li>F</li>-->
<!--        <li>X</li>-->
    </ul>
</div>
<div class="account">
    <p>테스트 계정</p>
    <p name="test">리뷰왕 test</p>
    <p name="abc">가게테스트 abc</p>
    <p name="admin">관리자 admin</p>
</div>
<script>
    document.querySelectorAll( "div.account p[name]").forEach( e=>e.addEventListener( "click", function(){
        document.querySelector( "input[name=userId]" ).value = this.getAttribute( "name" );
    }));
</script>
<!--/*[+


<br><br><br><br><br><br><br><br>



<div id="__content">
<h1>로그인 및 회원가입</h1>
    <h2>로그인을통해 ~~~ 의 혜택을 누리세요</h2>
    <form method="post" action="/login-process">
    <input type="text" name="userId" placeholder="아이디 입력"><br>
    <input type="password" name="userPassword" placeholder="비밀번호 입력"><br>
    <input type="checkbox" name="idSave" value="userId" checked>로그인 상태 유지
    비밀번호 찾기<br>

    <button id="logBtn">로그인</button><br>
    또는<br>
    <button id="kakao_logBtn">카카오톡으로 로그인</button>
    </form>

<div>
    <h3>아직도 ~~~ 회원이 아니신가요?</h3>
    <p>회원가입을 하시면 더 많은 정보와 혜택을 받으실 수 있습니다.</p>
    <button id="singUp" onclick="location.href='/signUp'">회원가입</button>
</div>


</div>
+]*/-->

<footer th:include="~{/include/footer::footerFragment}"></footer>

<script>
function handleSubmit(){
    let cookieValue = document.querySelector( "[type=checkbox]" ).checked ? document.querySelector( "[name=userId]" ).value : "";
    document.cookie = "savedIdentification=" + cookieValue;
    return true;
}
(function(){
    document.querySelector( "[name=userId]" ).value = document.cookie.match( /savedIdentification=([^;"]+)/ )?.at(1)||"";
    document.querySelector( "[type=checkbox]" ).checked = ( !!document.querySelector( "[name=userId]" ).value );
    let s;document.querySelectorAll( "input" ).forEach( elem=>{if(!elem.value&&!s){elem.focus();s=1;}});
})();
function onPasswordClick(myDiv){
    let arr = [ "text", "password"];
    let state = -1;
  //document.querySelector( "[name=userPassword]").setAttribute( "type", document.querySelector( "[name=userPassword]").getAttribute( "type" ) === "text" ? "password" : "text" );
  //document.querySelectorAll( "[name=userPassword]").forEach( elem=> elem.setAttribute( "type", elem.getAttribute( "type" )===arr[0]?arr[1]:arr[0]))
    document.querySelectorAll( "[name=userPassword]").forEach( elem=> elem.setAttribute( "type", arr[1^arr.indexOf( elem.getAttribute( "type" ))])||(state=arr.indexOf( elem.getAttribute( "type" ))))
    Array.from(myDiv.children[0].children).forEach((e,i)=>e.style.display=state===i?"inline":"none")
}

function openPopup(url) {
    // 화면의 가운데 위치 계산
    var leftPosition = (window.screen.width / 2) - (600 / 2);
    var topPosition = (window.screen.height / 2) - (500 / 2);

    // 팝업 창 열기
    window.open(url, '인증 팝업', 'width=600,height=500,left=' + leftPosition + ',top=' + topPosition);
}

</script>
</body>
</html>